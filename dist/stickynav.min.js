function stickyElement(t,n){function e(n){a!==n&&(t.classList.remove(a),t.classList.add(n),a=n,r=u[n])}if(!t||!t.getBoundingClientRect)return!1;n=n||t.getAttribute("data-bounded")||!1;var i,o,r,c=t.parentNode,a="_",u={normal:function(){return i=t.getBoundingClientRect(),i.top<1?e("sticky"):void 0},sticky:function(){return o=c.getBoundingClientRect(),o.top>1?e("normal"):n?(i=t.getBoundingClientRect(),o.bottom<i.bottom?e("bottom"):void 0):void 0},bottom:function(){return i=t.getBoundingClientRect(),i.top>1?e("sticky"):void 0}};i=t.getBoundingClientRect(),i.top<1?(e("sticky"),r()):e("normal"),window.addEventListener("scroll",function(){r()}),window.addEventListener("resize",function(){r()})}var stickyNav=function(){function t(){var t=o.querySelector("ul");Array.prototype.forEach.call(r,function(n){var e=n.getAttribute("data-nav"),o=n.id||"",r=document.createElement("li");r.innerHTML='<a href="#'+o+'">'+e+"</a>",r.click(function(t){t.preventDefault(),u.forEach(function(t){t.className=""}),this.classList.add("active"),i(n)}),u.push(r),t.appendChild(r)}),window.addEventListener("scroll",n)}function n(){a||d||(a=!0,window.requestAnimationFrame(e))}function e(){var t;for(t=r.length;t--&&!(~~r[t].getBoundingClientRect().top<=0););0>t?(c>=0&&u[c].classList.remove("active"),c=t):t!==c&&(c>=0&&u[c].classList.remove("active"),c=t,u[t].classList.add("active")),a=!1}function i(t,n,e){function i(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t+n:e/2*((t-=2)*t*t+2)+n}function o(t){c=c||t;var n=t-c,e=i(n,u,s,a);r.scrollTop=e,a>n&&requestAnimationFrame(o)}var r=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body;n=n||0;var c,a=500,u=r.scrollTop,d=~~(t.getBoundingClientRect().top-n),l=r.scrollHeight,s=l>u+d?d:l-u;requestAnimationFrame(o),"function"==typeof e&&window.setTimeout(e,a)}var o,r,c,a,u=[],d=!1;return{init:function(i){if(i=i||{},r=document.querySelectorAll("[data-nav]"),o=document.querySelector(i.nav),!r||!o)return!1;var c=(i.offset||0,i.bounded||!1);t(),e(),stickyElement(o,c),window.addEventListener("scroll",n)}}}();